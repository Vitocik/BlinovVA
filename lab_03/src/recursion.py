import sys

# Увеличиваем лимит глубины рекурсии
sys.setrecursionlimit(3000)


# -----------------------------
# Функция 1: факториал
# -----------------------------
def factorial(n: int) -> int:
    """
    Рекурсивное вычисление факториала числа n.

    Сложность:
    - Время: O(n)
    - Глубина рекурсии: n
    - Память (стек вызовов): O(n)
    """
    if n == 0 or n == 1:
        return 1  # базовый случай: factorial(0) = factorial(1) = 1
    # рекурсивный шаг: n! = n * (n-1)!
    return n * factorial(n - 1)


# -----------------------------
# Функция 2: число Фибоначчи
# -----------------------------
def fibonacci(n: int) -> int:
    """
    Наивная рекурсивная функция вычисления числа Фибоначчи.

    Сложность:
    - Время: O(2^n) — экспоненциальная, так как рекурсия ветвится на 2
    - Глубина рекурсии: n
    - Память (стек вызовов): O(n)
    """
    if n <= 1:
        return n  # базовый случай: F(0)=0, F(1)=1
    # рекурсивный шаг: F(n) = F(n-1) + F(n-2)
    return fibonacci(n - 1) + fibonacci(n - 2)


# -----------------------------
# Функция 3: быстрое возведение в степень
# -----------------------------
def power(a: float, n: int) -> float:
    """
    Быстрое возведение в степень с использованием рекурсии.

    Сложность:
    - Время: O(log n) — каждый рекурсивный шаг делит степень пополам
    - Глубина рекурсии: log₂(n)
    - Память (стек вызовов): O(log n)
    """
    if n == 0:
        return 1  # базовый случай: a^0 = 1
    if n % 2 == 0:
        # если степень чётная, используем a^(n/2) * a^(n/2)
        half = power(a, n // 2)
        return half * half
    else:
        # если степень нечётная, a^n = a * a^(n-1)
        return a * power(a, n - 1)
